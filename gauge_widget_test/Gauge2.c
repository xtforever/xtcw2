/* Generated by wbuild
 * (generator version 3.3)
 */
#include <X11/IntrinsicP.h>
#include <X11/StringDefs.h>
#line 326 "Gauge2.widget"
#include <X11/Xatom.h>
#line 327 "Gauge2.widget"
#include <X11/Xft/Xft.h>
#line 328 "Gauge2.widget"
#include "converters-xft.h"
#line 329 "Gauge2.widget"
#include "converters.h"
#line 330 "Gauge2.widget"
#include <X11/Xmu/Converters.h>
#line 331 "Gauge2.widget"
#include "mls.h"
#line 332 "Gauge2.widget"
#include "xutil.h"
#line 333 "Gauge2.widget"
#include "micro_vars.h"
#line 334 "Gauge2.widget"
#include "parsertool.h"
#line 335 "Gauge2.widget"
#include "sensorreg.h"
#include <xtcw/Gauge2P.h>
static void _resolve_inheritance(
#if NeedFunctionPrototypes
WidgetClass
#endif
);
#line 48 "Gauge2.widget"
static void initialize(
#if NeedFunctionPrototypes
Widget ,Widget,ArgList ,Cardinal *
#endif
);
#line 77 "Gauge2.widget"
static void realize(
#if NeedFunctionPrototypes
Widget,XtValueMask *,XSetWindowAttributes *
#endif
);
#line 86 "Gauge2.widget"
static void resize(
#if NeedFunctionPrototypes
Widget
#endif
);
#line 100 "Gauge2.widget"
static void destroy(
#if NeedFunctionPrototypes
Widget
#endif
);
#line 114 "Gauge2.widget"
static Boolean  set_values(
#if NeedFunctionPrototypes
Widget ,Widget ,Widget,ArgList ,Cardinal *
#endif
);
#line 122 "Gauge2.widget"
static void expose(
#if NeedFunctionPrototypes
Widget,XEvent *,Region 
#endif
);
#line 129 "Gauge2.widget"
static int  exec_command(
#if NeedFunctionPrototypes
Widget,int ,int 
#endif
);
#line 146 "Gauge2.widget"
static XtGeometryResult  query_geometry(
#if NeedFunctionPrototypes
Widget,XtWidgetGeometry *,XtWidgetGeometry *
#endif
);
#line 168 "Gauge2.widget"
static void reshape_widget(
#if NeedFunctionPrototypes
Widget
#endif
);
#line 179 "Gauge2.widget"
static void alloc_pixmap(
#if NeedFunctionPrototypes
Widget
#endif
);
#line 197 "Gauge2.widget"
static void str_print(
#if NeedFunctionPrototypes
Widget,int ,int ,char *,int 
#endif
);
#line 205 "Gauge2.widget"
static void update_cache(
#if NeedFunctionPrototypes
Widget
#endif
);
#line 253 "Gauge2.widget"
static void redraw(
#if NeedFunctionPrototypes
Widget
#endif
);
#line 263 "Gauge2.widget"
static void calculate_size(
#if NeedFunctionPrototypes
Widget
#endif
);
#line 274 "Gauge2.widget"
static void add_qpercent_cb(
#if NeedFunctionPrototypes
Widget
#endif
);
#line 281 "Gauge2.widget"
static void parse_graph_spec(
#if NeedFunctionPrototypes
Widget,char *
#endif
);
#line 314 "Gauge2.widget"
static void parse_label(
#if NeedFunctionPrototypes
Widget,char *
#endif
);
#line 168 "Gauge2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 168 "Gauge2.widget"
static void reshape_widget(Widget self)
#else
#line 168 "Gauge2.widget"
static void reshape_widget(self)Widget self;
#endif
#line 169 "Gauge2.widget"
{
	int w;
	if( ((Gauge2Widget)self)->gauge2.cornerRoundPercent >0 && ((Gauge2Widget)self)->gauge2.cornerRoundPercent < 100 ) {
	    w = Min(((Gauge2Widget)self)->core.height,((Gauge2Widget)self)->core.width);
	    w = w * ((Gauge2Widget)self)->gauge2.cornerRoundPercent / 100;
	    XmuReshapeWidget( self, XmuShapeRoundedRectangle, w, w );
	}
}
#line 179 "Gauge2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 179 "Gauge2.widget"
static void alloc_pixmap(Widget self)
#else
#line 179 "Gauge2.widget"
static void alloc_pixmap(self)Widget self;
#endif
#line 180 "Gauge2.widget"
{
    TRACE(1, "Gauge");
    Display *dpy = XtDisplay(self);

    TRACE(2,"Gauge:%s size:%dx%d", XtName(self),  ((Gauge2Widget)self)->core.width, ((Gauge2Widget)self)->core.height );
    ((Gauge2Widget)self)->gauge2.pixmap = XCreatePixmap(dpy, XtWindow(self), ((Gauge2Widget)self)->core.width, ((Gauge2Widget)self)->core.height,
                            DefaultDepth(dpy, DefaultScreen(dpy)));
    if( ((Gauge2Widget)self)->gauge2.draw ) {
        XftDrawChange(((Gauge2Widget)self)->gauge2.draw, ((Gauge2Widget)self)->gauge2.pixmap );
    }
    else {
        ((Gauge2Widget)self)->gauge2.draw = XftDrawCreate(dpy, ((Gauge2Widget)self)->gauge2.pixmap,
                       DefaultVisual(dpy, DefaultScreen(dpy)), None);
    }
}
#line 197 "Gauge2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 197 "Gauge2.widget"
static void str_print(Widget self,int  x,int  y,char * s,int  color)
#else
#line 197 "Gauge2.widget"
static void str_print(self,x,y,s,color)Widget self;int  x;int  y;char * s;int  color;
#endif
#line 198 "Gauge2.widget"
{
   if( is_empty(s) ) return;
   XftDrawStringUtf8(((Gauge2Widget)self)->gauge2.draw, (XftColor*)mls(((Gauge2Widget)self)->gauge2.gcolor,color), ((Gauge2Widget)self)->wheel.xftFont,
    			     x,y+((Gauge2Widget)self)->wheel.xftFont->ascent, (FcChar8*)s, strlen(s) );
}
#line 205 "Gauge2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 205 "Gauge2.widget"
static void update_cache(Widget self)
#else
#line 205 "Gauge2.widget"
static void update_cache(self)Widget self;
#endif
#line 206 "Gauge2.widget"
{
    int p;

    TRACE(1, "Gauge2");
    if( ((Gauge2Widget)self)->gauge2.pixmap == 0 ) alloc_pixmap(self);

    /* clear background */
    XftDrawRect(((Gauge2Widget)self)->gauge2.draw, & ((Gauge2Widget)self)->gauge2.bg, 0,0,((Gauge2Widget)self)->core.width,((Gauge2Widget)self)->core.height );    


    /* draw label in front of bar */
    if( ! is_empty(((Gauge2Widget)self)->gauge2.front) ) {
       str_print(self,0,0,((Gauge2Widget)self)->gauge2.front,0); 	
    }
    
    /* Position of BAR */
    int y0 = 0;
    int x0 = ((Gauge2Widget)self)->gauge2.padleft;

    /* draw label on top of bar */
    if( ((Gauge2Widget)self)->gauge2.glabel && m_len(((Gauge2Widget)self)->gauge2.glabel) ) { 
      char *sep = " | ";
      int space = xft_textwidth( XtDisplay(self), ((Gauge2Widget)self)->wheel.xftFont, sep );
      char **s;    
      m_foreach( ((Gauge2Widget)self)->gauge2.glabel, p, s ) {
         if( p ) { str_print( self,x0,y0,sep,0 ); x0+=space; }
         str_print(self,x0,y0,*s,p);
	 x0 +=  xft_textwidth( XtDisplay(self), ((Gauge2Widget)self)->wheel.xftFont, *s );  
      }
      /* Move bar under the Label */
      y0 = ((Gauge2Widget)self)->wheel.xftFont->ascent +  ((Gauge2Widget)self)->wheel.xftFont->descent;
      x0 = ((Gauge2Widget)self)->gauge2.padleft;
    }

    /* draw bars */
    float e = ((Gauge2Widget)self)->core.width * 1.0 / ((Gauge2Widget)self)->gauge2.range;
    int h = ((Gauge2Widget)self)->core.height-y0;
    XftColor *col;
    m_foreach( ((Gauge2Widget)self)->gauge2.gcolor, p, col ) {
        int w = INT(((Gauge2Widget)self)->gauge2.gsize,p);
	w *= e;
	XftDrawRect(((Gauge2Widget)self)->gauge2.draw,col,x0,y0,w,h );
	x0 += w;
    }
}
#line 253 "Gauge2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 253 "Gauge2.widget"
static void redraw(Widget self)
#else
#line 253 "Gauge2.widget"
static void redraw(self)Widget self;
#endif
#line 254 "Gauge2.widget"
{
    TRACE(1, "Gauge");
    if( !XtIsRealized(self)) return;
    update_cache(self);
    XCopyArea(XtDisplay(self),((Gauge2Widget)self)->gauge2.pixmap, XtWindow(self), ((Gauge2Widget)self)->gauge2.gc_copy,
              0,0, ((Gauge2Widget)self)->core.width, ((Gauge2Widget)self)->core.height, /* source pixmap */
              0,0 ); /* target window x,y */
}
#line 263 "Gauge2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 263 "Gauge2.widget"
static void calculate_size(Widget self)
#else
#line 263 "Gauge2.widget"
static void calculate_size(self)Widget self;
#endif
#line 264 "Gauge2.widget"
{

	int w,h;
	xft_calc_string_size( self, ((Gauge2Widget)self)->wheel.xftFont, ((Gauge2Widget)self)->gauge2.label, &w, &h );
	
	if( ((Gauge2Widget)self)->gauge2.prefered_width < w+4 ) ((Gauge2Widget)self)->gauge2.prefered_width=w+4;
	if( ((Gauge2Widget)self)->gauge2.prefered_height < (h+2) * 2 )
	    ((Gauge2Widget)self)->gauge2.prefered_height = (h+2) * 2;	    
}
#line 274 "Gauge2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 274 "Gauge2.widget"
static void add_qpercent_cb(Widget self)
#else
#line 274 "Gauge2.widget"
static void add_qpercent_cb(self)Widget self;
#endif
#line 275 "Gauge2.widget"
{
/*	mv_onwrite($qpercent, (void*)redraw, $, 0);	*/
}
#line 281 "Gauge2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 281 "Gauge2.widget"
static void parse_graph_spec(Widget self,char * s)
#else
#line 281 "Gauge2.widget"
static void parse_graph_spec(self,s)Widget self;char * s;
#endif
#line 282 "Gauge2.widget"
{
	XColor xc;
	char name[20];
	if( ((Gauge2Widget)self)->gauge2.gcolor ) m_clear(((Gauge2Widget)self)->gauge2.gcolor); else ((Gauge2Widget)self)->gauge2.gcolor=m_create(10,sizeof(XftColor));
	if( ((Gauge2Widget)self)->gauge2.gsize ) m_clear(((Gauge2Widget)self)->gauge2.gsize); else ((Gauge2Widget)self)->gauge2.gsize=m_create(10,sizeof(int));
	
	int part;
	get_num(&s, & ((Gauge2Widget)self)->gauge2.range);
	TRACE(4,"range %d", ((Gauge2Widget)self)->gauge2.range );	
	char p;
	int sum=0;
	while( *s == ',' ) {
	   s++;
           TRACE(4,"pos: %s", s );
	   p = get_colorname(&s, name, 20); 
	   if( p==':' ) {
	      s++;
	      p=get_num(&s, &part);	   
	   } else {
	      p=0;
              part = ((Gauge2Widget)self)->gauge2.range - sum;
	   }
	   sum += part;
	   if( XAllocNamedColor( XtDisplay(self), ((Gauge2Widget)self)->core.colormap, name, &xc, &xc ) == 0 ) {
	       WARN("can not convert color name %d %s\n", part, name);
	   } else {
	       pixel_to_xftcolor(self,xc.pixel, m_add(((Gauge2Widget)self)->gauge2.gcolor) );
	       m_puti( ((Gauge2Widget)self)->gauge2.gsize, part );
	   }	   
	};
}
#line 314 "Gauge2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 314 "Gauge2.widget"
static void parse_label(Widget self,char * s)
#else
#line 314 "Gauge2.widget"
static void parse_label(self,s)Widget self;char * s;
#endif
#line 315 "Gauge2.widget"
{
	if( is_empty(s) ) {
	    m_free_strings(((Gauge2Widget)self)->gauge2.glabel,0);
	    ((Gauge2Widget)self)->gauge2.glabel=0;
	    return;
	} 
	((Gauge2Widget)self)->gauge2.glabel = m_split(((Gauge2Widget)self)->gauge2.glabel,s,',',1);
}

static XtResource resources[] = {
#line 10 "Gauge2.widget"
{XtNcornerRoundPercent,XtCCornerRoundPercent,XtRInt,sizeof(((Gauge2Rec*)NULL)->gauge2.cornerRoundPercent),XtOffsetOf(Gauge2Rec,gauge2.cornerRoundPercent),XtRImmediate,(XtPointer)"20"},
#line 11 "Gauge2.widget"
{XtNtimer,XtCTimer,XtRInt,sizeof(((Gauge2Rec*)NULL)->gauge2.timer),XtOffsetOf(Gauge2Rec,gauge2.timer),XtRString,(XtPointer)"2000"},
#line 12 "Gauge2.widget"
{XtNqpercent,XtCQpercent,XtRQVar,sizeof(((Gauge2Rec*)NULL)->gauge2.qpercent),XtOffsetOf(Gauge2Rec,gauge2.qpercent),XtRImmediate,(XtPointer)"zero"},
#line 13 "Gauge2.widget"
{XtNgauge_width,XtCGauge_width,XtRDistance,sizeof(((Gauge2Rec*)NULL)->gauge2.gauge_width),XtOffsetOf(Gauge2Rec,gauge2.gauge_width),XtRString,(XtPointer)"15mm"},
#line 14 "Gauge2.widget"
{XtNhh,XtCHh,XtRDistance,sizeof(((Gauge2Rec*)NULL)->gauge2.hh),XtOffsetOf(Gauge2Rec,gauge2.hh),XtRString,(XtPointer)"6mm"},
#line 15 "Gauge2.widget"
{XtNpercent0,XtCPercent0,XtRInt,sizeof(((Gauge2Rec*)NULL)->gauge2.percent0),XtOffsetOf(Gauge2Rec,gauge2.percent0),XtRImmediate,(XtPointer)50 },
#line 16 "Gauge2.widget"
{XtNpercent1,XtCPercent1,XtRInt,sizeof(((Gauge2Rec*)NULL)->gauge2.percent1),XtOffsetOf(Gauge2Rec,gauge2.percent1),XtRImmediate,(XtPointer)75 },
#line 17 "Gauge2.widget"
{XtNcolor0,XtCColor0,XtRPixel,sizeof(((Gauge2Rec*)NULL)->gauge2.color0),XtOffsetOf(Gauge2Rec,gauge2.color0),XtRString,(XtPointer)"#00ff00"},
#line 18 "Gauge2.widget"
{XtNcolor1,XtCColor1,XtRPixel,sizeof(((Gauge2Rec*)NULL)->gauge2.color1),XtOffsetOf(Gauge2Rec,gauge2.color1),XtRString,(XtPointer)"#807313"},
#line 19 "Gauge2.widget"
{XtNcolor2,XtCColor2,XtRPixel,sizeof(((Gauge2Rec*)NULL)->gauge2.color2),XtOffsetOf(Gauge2Rec,gauge2.color2),XtRString,(XtPointer)"#ff0000"},
#line 20 "Gauge2.widget"
{XtNsensor,XtCSensor,XtRString,sizeof(((Gauge2Rec*)NULL)->gauge2.sensor),XtOffsetOf(Gauge2Rec,gauge2.sensor),XtRString,(XtPointer)""},
#line 24 "Gauge2.widget"
{XtNgraph,XtCGraph,XtRString,sizeof(((Gauge2Rec*)NULL)->gauge2.graph),XtOffsetOf(Gauge2Rec,gauge2.graph),XtRString,(XtPointer)"100,red:30,yellow:20,green:10,white"},
#line 25 "Gauge2.widget"
{XtNlabel,XtCLabel,XtRString,sizeof(((Gauge2Rec*)NULL)->gauge2.label),XtOffsetOf(Gauge2Rec,gauge2.label),XtRString,(XtPointer)"mem,cache,swap,free"},
#line 26 "Gauge2.widget"
{XtNfront,XtCFront,XtRString,sizeof(((Gauge2Rec*)NULL)->gauge2.front),XtOffsetOf(Gauge2Rec,gauge2.front),XtRString,(XtPointer)"Test"},
#line 27 "Gauge2.widget"
{XtNpadleft,XtCPadleft,XtRDistance,sizeof(((Gauge2Rec*)NULL)->gauge2.padleft),XtOffsetOf(Gauge2Rec,gauge2.padleft),XtRImmediate,(XtPointer)0 },
#line 28 "Gauge2.widget"
{XtNprefered_width,XtCPrefered_width,XtRDistance,sizeof(((Gauge2Rec*)NULL)->gauge2.prefered_width),XtOffsetOf(Gauge2Rec,gauge2.prefered_width),XtRImmediate,(XtPointer)0 },
#line 29 "Gauge2.widget"
{XtNprefered_height,XtCPrefered_height,XtRDistance,sizeof(((Gauge2Rec*)NULL)->gauge2.prefered_height),XtOffsetOf(Gauge2Rec,gauge2.prefered_height),XtRImmediate,(XtPointer)0 },
};

Gauge2ClassRec gauge2ClassRec = {
{ /* core_class part */
/* superclass   	*/  (WidgetClass) &wheelClassRec,
/* class_name   	*/  "Gauge2",
/* widget_size  	*/  sizeof(Gauge2Rec),
/* class_initialize 	*/  NULL,
/* class_part_initialize*/  _resolve_inheritance,
/* class_inited 	*/  FALSE,
/* initialize   	*/  initialize,
/* initialize_hook 	*/  NULL,
/* realize      	*/  realize,
/* actions      	*/  NULL,
/* num_actions  	*/  0,
/* resources    	*/  resources,
/* num_resources 	*/  17,
/* xrm_class    	*/  NULLQUARK,
/* compres_motion 	*/  False ,
/* compress_exposure 	*/  TRUE ,
/* compress_enterleave 	*/  False ,
/* visible_interest 	*/  False ,
/* destroy      	*/  destroy,
/* resize       	*/  resize,
/* expose       	*/  expose,
/* set_values   	*/  set_values,
/* set_values_hook 	*/  NULL,
/* set_values_almost 	*/  XtInheritSetValuesAlmost,
/* get_values+hook 	*/  NULL,
/* accept_focus 	*/  XtInheritAcceptFocus,
/* version      	*/  XtVersion,
/* callback_private 	*/  NULL,
/* tm_table      	*/  XtInheritTranslations,
/* query_geometry 	*/  query_geometry,
/* display_acceleator 	*/  XtInheritDisplayAccelerator,
/* extension    	*/  NULL 
},
{ /* Wheel_class part */
exec_command,
XtInherit_sig_recv,
},
{ /* Gauge2_class part */
/* XA_UTF8_STRING */  0 ,
},
};
WidgetClass gauge2WidgetClass = (WidgetClass) &gauge2ClassRec;
static void _resolve_inheritance(class)
WidgetClass class;
{
  Gauge2WidgetClass c __attribute__((unused)) = (Gauge2WidgetClass) class;
  Gauge2WidgetClass super __attribute__((unused));
  if (class == gauge2WidgetClass) return;
  super = (Gauge2WidgetClass)class->core_class.superclass;
}
#line 48 "Gauge2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 48 "Gauge2.widget"
static void initialize(Widget  request,Widget self,ArgList  args,Cardinal * num_args)
#else
#line 48 "Gauge2.widget"
static void initialize(request,self,args,num_args)Widget  request;Widget self;ArgList  args;Cardinal * num_args;
#endif
#line 49 "Gauge2.widget"
{
    TRACE(1, "Gauge2");
    ((Gauge2Widget)self)->gauge2.glabel=((Gauge2Widget)self)->gauge2.gsize=((Gauge2Widget)self)->gauge2.range=0;
    ((Gauge2Widget)self)->gauge2.pixmap = 0;
    ((Gauge2Widget)self)->gauge2.draw = 0;
    ((Gauge2Widget)self)->gauge2.gc_copy =  XtGetGC(self, 0,0 );
    if( ((Gauge2Widget)self)->core.width == 0 ) ((Gauge2Widget)self)->core.width = 10;
    if( ((Gauge2Widget)self)->core.height == 0 ) ((Gauge2Widget)self)->core.height = 10;	
    calculate_size(self);
    if(! ((Gauge2WidgetClass)self->core.widget_class)->gauge2_class.XA_UTF8_STRING )
	((Gauge2WidgetClass)self->core.widget_class)->gauge2_class.XA_UTF8_STRING = XInternAtom(XtDisplay(self), "UTF8_STRING", True);
    ((Gauge2Widget)self)->gauge2.tmr=0;
    
    Widget w;
    ((Gauge2Widget)self)->gauge2.TopLevel = self;
    w = self;

    while( ! XtIsShell(w) ) {
      w = XtParent(w);
      if( w ) ((Gauge2Widget)self)->gauge2.TopLevel = w; else break;
    }

    pixel_to_xftcolor(self,((Gauge2Widget)self)->core.background_pixel,& ((Gauge2Widget)self)->gauge2.bg);
    parse_graph_spec(self,((Gauge2Widget)self)->gauge2.graph);
    parse_label(self,((Gauge2Widget)self)->gauge2.label);
    sensor_register_c(self,((Gauge2Widget)self)->gauge2.sensor);
}
#line 77 "Gauge2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 77 "Gauge2.widget"
static void realize(Widget self,XtValueMask * mask,XSetWindowAttributes * attributes)
#else
#line 77 "Gauge2.widget"
static void realize(self,mask,attributes)Widget self;XtValueMask * mask;XSetWindowAttributes * attributes;
#endif
#line 78 "Gauge2.widget"
{
        TRACE(1, "Gauge");
        XtCreateWindow(self, (unsigned int) InputOutput,
        		  (Visual *) CopyFromParent, *mask, attributes);
  	reshape_widget(self);

}
#line 86 "Gauge2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 86 "Gauge2.widget"
static void resize(Widget self)
#else
#line 86 "Gauge2.widget"
static void resize(self)Widget self;
#endif
#line 87 "Gauge2.widget"
{
        TRACE(1, "Gauge2");
        if (XtIsRealized(self)) {
            if( ((Gauge2Widget)self)->core.width > 4096 || ((Gauge2Widget)self)->core.height > 4096 ) return;
       
            reshape_widget(self);
            if( ((Gauge2Widget)self)->gauge2.pixmap ) XFreePixmap(XtDisplay(self),((Gauge2Widget)self)->gauge2.pixmap);
            ((Gauge2Widget)self)->gauge2.pixmap=0;
            alloc_pixmap(self);
         }
}
#line 100 "Gauge2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 100 "Gauge2.widget"
static void destroy(Widget self)
#else
#line 100 "Gauge2.widget"
static void destroy(self)Widget self;
#endif
#line 101 "Gauge2.widget"
{

    TRACE(1, "Gauge2");
    if( ((Gauge2Widget)self)->gauge2.draw) XftDrawDestroy( ((Gauge2Widget)self)->gauge2.draw );    
    XtReleaseGC(self,((Gauge2Widget)self)->gauge2.gc_copy);
    XFreePixmap(XtDisplay(self),((Gauge2Widget)self)->gauge2.pixmap);
    m_free(((Gauge2Widget)self)->gauge2.gcolor);
    m_free(((Gauge2Widget)self)->gauge2.glabel);	
    m_free(((Gauge2Widget)self)->gauge2.gsize);
    
    
}
#line 114 "Gauge2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 114 "Gauge2.widget"
static Boolean  set_values(Widget  old,Widget  request,Widget self,ArgList  args,Cardinal * num_args)
#else
#line 114 "Gauge2.widget"
static Boolean  set_values(old,request,self,args,num_args)Widget  old;Widget  request;Widget self;ArgList  args;Cardinal * num_args;
#endif
#line 115 "Gauge2.widget"
{
	parse_label(self,((Gauge2Widget)self)->gauge2.label);
	parse_graph_spec(self,((Gauge2Widget)self)->gauge2.graph);
	/* get_selection($); */
       return True;
}
#line 122 "Gauge2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 122 "Gauge2.widget"
static void expose(Widget self,XEvent * event,Region  region)
#else
#line 122 "Gauge2.widget"
static void expose(self,event,region)Widget self;XEvent * event;Region  region;
#endif
#line 123 "Gauge2.widget"
{
	TRACE(1, "Gauge2");	
    	redraw(self);
}
#line 129 "Gauge2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 129 "Gauge2.widget"
static int  exec_command(Widget self,int  cmd,int  val)
#else
#line 129 "Gauge2.widget"
static int  exec_command(self,cmd,val)Widget self;int  cmd;int  val;
#endif
#line 130 "Gauge2.widget"
{
  return 0;
}
#line 146 "Gauge2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 146 "Gauge2.widget"
static XtGeometryResult  query_geometry(Widget self,XtWidgetGeometry * request,XtWidgetGeometry * reply)
#else
#line 146 "Gauge2.widget"
static XtGeometryResult  query_geometry(self,request,reply)Widget self;XtWidgetGeometry * request;XtWidgetGeometry * reply;
#endif
#line 147 "Gauge2.widget"
{
    reply->request_mode = CWX | CWY | CWWidth | CWHeight;

    reply->x=0; reply->y=0;
    reply->width =  ((Gauge2Widget)self)->gauge2.prefered_width;
    reply->height = ((Gauge2Widget)self)->gauge2.prefered_height;

    TRACE(1, "Gauge:%s: parent request is: %dx%d", XtName(self),
             request->width,
             request->width );

    TRACE(1, "Gauge:%s: our prefered size is %dx%d", XtName(self),
                  ((Gauge2Widget)self)->gauge2.prefered_width,
                  ((Gauge2Widget)self)->gauge2.prefered_height );

    return XtGeometryAlmost;
}
