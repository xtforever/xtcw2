/* Generated by wbuild
 * (generator version 3.3)
 */
#include <X11/IntrinsicP.h>
#include <X11/StringDefs.h>
#line 96 "Wdemo2.widget"
#include <assert.h>
#line 97 "Wdemo2.widget"
#include <stdint.h>
#line 98 "Wdemo2.widget"
#include <X11/Intrinsic.h>
#line 99 "Wdemo2.widget"
#include <X11/Xmu/Converters.h>
#line 100 "Wdemo2.widget"
#include <X11/Xft/Xft.h>
#line 101 "Wdemo2.widget"
#include <X11/Xregion.h>
#line 102 "Wdemo2.widget"
#include "converters.h"
#line 103 "Wdemo2.widget"
#include "xutil.h"
#line 104 "Wdemo2.widget"
#include "mls.h"
#include <xtcw/Wdemo2P.h>
static void _resolve_inheritance(
#if NeedFunctionPrototypes
WidgetClass
#endif
);
#line 16 "Wdemo2.widget"
static void expose(
#if NeedFunctionPrototypes
Widget,XEvent *,Region 
#endif
);
#line 23 "Wdemo2.widget"
static void initialize(
#if NeedFunctionPrototypes
Widget ,Widget,ArgList ,Cardinal *
#endif
);
#line 34 "Wdemo2.widget"
static void destroy(
#if NeedFunctionPrototypes
Widget
#endif
);
#line 40 "Wdemo2.widget"
static void resize(
#if NeedFunctionPrototypes
Widget
#endif
);
#line 45 "Wdemo2.widget"
static void realize(
#if NeedFunctionPrototypes
Widget,XtValueMask *,XSetWindowAttributes *
#endif
);
#line 58 "Wdemo2.widget"
static void paint1(
#if NeedFunctionPrototypes
Widget
#endif
);
#line 73 "Wdemo2.widget"
static void calculate_prefered_size(
#if NeedFunctionPrototypes
Widget,int *,int *
#endif
);
#line 80 "Wdemo2.widget"
static void calculate_size(
#if NeedFunctionPrototypes
Widget,int *,int *
#endif
);
#line 85 "Wdemo2.widget"
static void init_colors(
#if NeedFunctionPrototypes
Widget
#endif
);
#line 91 "Wdemo2.widget"
static void init_ixmap(
#if NeedFunctionPrototypes
Widget
#endif
);
#line 58 "Wdemo2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 58 "Wdemo2.widget"
static void paint1(Widget self)
#else
#line 58 "Wdemo2.widget"
static void paint1(self)Widget self;
#endif
#line 59 "Wdemo2.widget"
{
        XTFUNC();
        int x,y,w,h;
	char *s = ((Wdemo2Widget)self)->wdemo2.label;
	if( is_empty(s) ) s="";
        /* draw text centered */
        h = ((Wdemo2Widget)self)->wdemo2.xftFont->height;
        w = xft_textwidth(XtDisplay(self), ((Wdemo2Widget)self)->wdemo2.xftFont, s );
        x = (((Wdemo2Widget)self)->core.width - w) / 2; if( x < 0 ) x=0;
        y = (((Wdemo2Widget)self)->core.height -h) / 2; if( y < 0 ) y=0;
        XftDrawStringUtf8(((Wdemo2Widget)self)->wdemo2.draw, FG, ((Wdemo2Widget)self)->wdemo2.xftFont,
    	     x,y+((Wdemo2Widget)self)->wdemo2.xftFont->ascent, (FcChar8*)s, strlen(s) );
}
#line 73 "Wdemo2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 73 "Wdemo2.widget"
static void calculate_prefered_size(Widget self,int * w,int * h)
#else
#line 73 "Wdemo2.widget"
static void calculate_prefered_size(self,w,h)Widget self;int * w;int * h;
#endif
#line 74 "Wdemo2.widget"
{
  calculate_size(self,w,h);
  (*w) += 20; /* i like some space around the label */
  (*h) += 20;
}
#line 80 "Wdemo2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 80 "Wdemo2.widget"
static void calculate_size(Widget self,int * w,int * h)
#else
#line 80 "Wdemo2.widget"
static void calculate_size(self,w,h)Widget self;int * w;int * h;
#endif
#line 81 "Wdemo2.widget"
{
        xft_calc_string_size(self, ((Wdemo2Widget)self)->wdemo2.xftFont, ((Wdemo2Widget)self)->wdemo2.label, w, h );
}
#line 85 "Wdemo2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 85 "Wdemo2.widget"
static void init_colors(Widget self)
#else
#line 85 "Wdemo2.widget"
static void init_colors(self)Widget self;
#endif
#line 86 "Wdemo2.widget"
{		
	pixel_to_xftcolor( self, ((Wdemo2Widget)self)->core.background_pixel, BG );
 	pixel_to_xftcolor( self, ((Wdemo2Widget)self)->wdemo2.foreground,       FG );
}
#line 91 "Wdemo2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 91 "Wdemo2.widget"
static void init_ixmap(Widget self)
#else
#line 91 "Wdemo2.widget"
static void init_ixmap(self)Widget self;
#endif
#line 92 "Wdemo2.widget"
{
}

static XtResource resources[] = {
#line 5 "Wdemo2.widget"
{XtNxftFont,XtCXFtFont,XtRXftFont,sizeof(((Wdemo2Rec*)NULL)->wdemo2.xftFont),XtOffsetOf(Wdemo2Rec,wdemo2.xftFont),XtRString,(XtPointer)"Serif-22"},
#line 6 "Wdemo2.widget"
{XtNforeground,XtCForeground,XtRPixel,sizeof(((Wdemo2Rec*)NULL)->wdemo2.foreground),XtOffsetOf(Wdemo2Rec,wdemo2.foreground),XtRImmediate,(XtPointer)XtDefaultForeground },
#line 7 "Wdemo2.widget"
{XtNlabel,XtCLabel,XtRString,sizeof(((Wdemo2Rec*)NULL)->wdemo2.label),XtOffsetOf(Wdemo2Rec,wdemo2.label),XtRImmediate,(XtPointer)"my name"},
};

Wdemo2ClassRec wdemo2ClassRec = {
{ /* core_class part */
/* superclass   	*/  (WidgetClass) &coreClassRec,
/* class_name   	*/  "Wdemo2",
/* widget_size  	*/  sizeof(Wdemo2Rec),
/* class_initialize 	*/  NULL,
/* class_part_initialize*/  _resolve_inheritance,
/* class_inited 	*/  FALSE,
/* initialize   	*/  initialize,
/* initialize_hook 	*/  NULL,
/* realize      	*/  realize,
/* actions      	*/  NULL,
/* num_actions  	*/  0,
/* resources    	*/  resources,
/* num_resources 	*/  3,
/* xrm_class    	*/  NULLQUARK,
/* compres_motion 	*/  False ,
/* compress_exposure 	*/  FALSE ,
/* compress_enterleave 	*/  False ,
/* visible_interest 	*/  False ,
/* destroy      	*/  destroy,
/* resize       	*/  resize,
/* expose       	*/  expose,
/* set_values   	*/  NULL,
/* set_values_hook 	*/  NULL,
/* set_values_almost 	*/  XtInheritSetValuesAlmost,
/* get_values+hook 	*/  NULL,
/* accept_focus 	*/  XtInheritAcceptFocus,
/* version      	*/  XtVersion,
/* callback_private 	*/  NULL,
/* tm_table      	*/  NULL,
/* query_geometry 	*/  XtInheritQueryGeometry,
/* display_acceleator 	*/  XtInheritDisplayAccelerator,
/* extension    	*/  NULL 
},
{ /* Wdemo2_class part */
 /* dummy */  0
},
};
WidgetClass wdemo2WidgetClass = (WidgetClass) &wdemo2ClassRec;
static void _resolve_inheritance(class)
WidgetClass class;
{
  Wdemo2WidgetClass c __attribute__((unused)) = (Wdemo2WidgetClass) class;
  Wdemo2WidgetClass super __attribute__((unused));
  if (class == wdemo2WidgetClass) return;
  super = (Wdemo2WidgetClass)class->core_class.superclass;
}
#line 16 "Wdemo2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 16 "Wdemo2.widget"
static void expose(Widget self,XEvent * event,Region  region)
#else
#line 16 "Wdemo2.widget"
static void expose(self,event,region)Widget self;XEvent * event;Region  region;
#endif
#line 17 "Wdemo2.widget"
{
        XTFUNC();
	XftDrawRect(((Wdemo2Widget)self)->wdemo2.draw,BG,0,0,((Wdemo2Widget)self)->core.width,((Wdemo2Widget)self)->core.height);
	paint1(self);
}
#line 23 "Wdemo2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 23 "Wdemo2.widget"
static void initialize(Widget  request,Widget self,ArgList  args,Cardinal * num_args)
#else
#line 23 "Wdemo2.widget"
static void initialize(request,self,args,num_args)Widget  request;Widget self;ArgList  args;Cardinal * num_args;
#endif
#line 24 "Wdemo2.widget"
{
        XTFUNC();
	int w,h;
  	calculate_prefered_size(self,&w,&h);
	if( ((Wdemo2Widget)self)->core.width < w ) ((Wdemo2Widget)self)->core.width = w;
	if( ((Wdemo2Widget)self)->core.height < h ) ((Wdemo2Widget)self)->core.height = h;  
	init_colors(self);
	((Wdemo2Widget)self)->wdemo2.draw=0;
}
#line 34 "Wdemo2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 34 "Wdemo2.widget"
static void destroy(Widget self)
#else
#line 34 "Wdemo2.widget"
static void destroy(self)Widget self;
#endif
#line 35 "Wdemo2.widget"
{
        XTFUNC();
        if( ((Wdemo2Widget)self)->wdemo2.draw ) XftDrawDestroy( ((Wdemo2Widget)self)->wdemo2.draw );
}
#line 40 "Wdemo2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 40 "Wdemo2.widget"
static void resize(Widget self)
#else
#line 40 "Wdemo2.widget"
static void resize(self)Widget self;
#endif
#line 41 "Wdemo2.widget"
{
	XTFUNC();
}
#line 45 "Wdemo2.widget"
/*ARGSUSED*/
#if NeedFunctionPrototypes
#line 45 "Wdemo2.widget"
static void realize(Widget self,XtValueMask * mask,XSetWindowAttributes * attributes)
#else
#line 45 "Wdemo2.widget"
static void realize(self,mask,attributes)Widget self;XtValueMask * mask;XSetWindowAttributes * attributes;
#endif
#line 46 "Wdemo2.widget"
{
        XTFUNC();
	XtCreateWindow(self, (unsigned int) InputOutput,
        		  (Visual *) CopyFromParent,
			  *mask, attributes);
        Display *dpy = XtDisplay(self);
  	((Wdemo2Widget)self)->wdemo2.draw = XftDrawCreate(dpy, XtWindow(self),
                 DefaultVisual(dpy, DefaultScreen(dpy)), None);	
}
